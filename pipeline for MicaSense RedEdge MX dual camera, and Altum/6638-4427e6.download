"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6638],{66934:function(e,r,t){t.d(r,{Z:function(){return s}});let s=(0,t(7170).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},20311:function(e,r,t){t.d(r,{O:function(){return i}});var s=t(52676),n=t(4814);function i(e){let{className:r}=e;return(0,s.jsx)("hr",{className:(0,n.Z)("mb-3 border-0","h-[1px] overflow-hidden","bg-[#dbe2e9]/60 dark:bg-[#454F5D]",r)})}},27565:function(e,r,t){var s=t(52676),n=t(68605),i=t(30674),a=t(49759),l=t(56975),c=t(41031),o=t(74538),d=t(14139),u=t(65819),m=t(7717),x=t(66934),p=t(25010);t(75271);var h=t(20311),f=t(22617),v=t(4814),b=t(39109),g=t(29871);r.Z=e=>{let{memberList:r,enterpriseInfo:t,getMemberList:j,isLoading:k,pageTotal:_=0,isModal:y}=e,N=(0,m.useTranslations)(),E=(0,b.Z)(),{isMobile:w}=(0,g.Z)(),C=(0,u.ZP)(e=>e.userInfo),D=async e=>{let r=await (0,n.BH)(e);console.log(r),(null==r?void 0:r.status)===200?(E.success(N("enterprise.cancel_admin_success")),j(1)):E.error(N("enterprise.cancel_admin_failed"))},M=async e=>{let r=await (0,n.sb)(e);console.log(r),(null==r?void 0:r.status)===200?(E.success(N("enterprise.set_admin_success")),j(1)):E.error(N("enterprise.set_admin_failed"))},R=async(e,r)=>{let t=await (0,n.v)(e);console.log(t),(null==t?void 0:t.status)===200?(r?E.success(N("enterprise.cancel_invite_success")):E.success(N("enterprise.remove_org_success")),f.ZP.getState().updateEnterprisePlanSeat(-1),j(1)):r?E.error(N("enterprise.cancel_invite_failed")):E.error(N("enterprise.remove_org_failed"))},S=e=>{let r=null==t?void 0:t.org_member.role;return"OWNER"===r||e!==r&&"MEMBER"!==r&&"ADMIN"===r&&"MEMBER"===e};return(0,s.jsxs)(s.Fragment,{children:[k?(0,s.jsx)("div",{className:"flex justify-center min-h-36",children:(0,s.jsx)(i.c,{size:"sm",label:N("topic.loading")})}):(0,s.jsx)("div",{className:(0,v.Z)(y?"max-h-[50vh] overflow-y-auto custom-scrollbar min-h-[200px]":"min-h-[100px]",w?"overflow-x-auto ":""),children:(0,s.jsxs)("table",{className:(0,v.Z)("text-theme-font-800 dark:text-theme-font-dark-800 w-full",w?"min-w-[600px]":""),children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-[#EBEEF3] dark:border-[#606B80] min-h-9",children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left text-[#5F7698] dark:text-[#D0D4DC]",children:N("enterprise.email")}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-[#5F7698] dark:text-[#D0D4DC]",children:N("enterprise.role")}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-[#5F7698] dark:text-[#D0D4DC]",children:y?N("enterprise.status"):N("enterprise.seat_title")}),(0,s.jsx)("th",{className:"py-3 px-4 text-left text-[#5F7698] dark:text-[#D0D4DC]"})]})}),(0,s.jsx)("tbody",{children:r.map((e,r)=>(0,s.jsxs)("tr",{className:(0,v.Z)("text-base text-[#30394A] dark:text-white border-b-0"),children:[(0,s.jsx)("td",{className:(0,v.Z)("px-4 max-w-[200px] whitespace-nowrap overflow-hidden text-ellipsis",0===r?"pt-4 h-9":"pt-3 h-9"),children:e.email}),(0,s.jsxs)("td",{className:"px-4 ",children:["OWNER"===e.role&&N("enterprise.owner"),"MEMBER"===e.role&&N("enterprise.member"),"ADMIN"===e.role&&N("enterprise.admin")]}),(0,s.jsx)("td",{className:"px-4",children:y?(0,s.jsxs)(s.Fragment,{children:["SUCCESS"===e.status&&N("enterprise.active"),"INVITED"===e.status&&(0,s.jsx)("span",{className:"text-[#0080FF]",children:N("enterprise.invite_sending")}),"REJECT"===e.status&&(0,s.jsx)("span",{className:"text-[#FF0000]",children:N("enterprise.invite_reject")})]}):(null==e?void 0:e.has_seat)?N("enterprise.has_seat_title"):"-"}),(0,s.jsx)("td",{className:"px-4",children:"OWNER"!==e.role&&C.email!==e.email&&S(e.role)&&(0,s.jsxs)(a.F,{children:[(0,s.jsx)(l.S,{children:(0,s.jsx)(p.z,{className:"bg-transparent dark:text-gray-500 my-1 ml-auto hover:bg-gray-300 dark:hover:bg-gray-500 focus:!ring-0 focus-visible:!ring-offset-0 h-6 px-2",size:"sm",variant:"secondary",children:(0,s.jsx)(x.Z,{className:"dark:text-white"})})}),(0,s.jsx)(c.a,{"aria-label":"More options",style:{position:"relative",pointerEvents:"auto"},children:(0,s.jsxs)(s.Fragment,{children:["SUCCESS"===e.status&&"MEMBER"===e.role&&(null==t?void 0:t.org_member.role)==="OWNER"&&(0,s.jsx)(o.W,{onClick:()=>M(e.member_id),children:(0,s.jsx)("div",{children:N("enterprise.set_admin")})},"set_admin"),"SUCCESS"===e.status&&"ADMIN"===e.role&&(null==t?void 0:t.org_member.role)==="OWNER"&&(0,s.jsx)(o.W,{onClick:()=>D(e.member_id),children:(0,s.jsx)("div",{children:N("enterprise.cancel_admin")})},"cancel_admin"),"INVITED"===e.status&&(null==t?void 0:t.org_member.role)!=="MEMBER"&&(0,s.jsx)(o.W,{onClick:()=>R(null==e?void 0:e.member_id,!0),children:(0,s.jsx)("div",{children:N("enterprise.remove_invite")})},"remove_invite"),"INVITED"!==e.status&&(null==t?void 0:t.org_member.role)!=="MEMBER"&&(0,s.jsx)(o.W,{onClick:()=>R(null==e?void 0:e.member_id),children:(0,s.jsx)("div",{children:N("enterprise.remove_org")})},"remove_org")]})})]})})]},r))})]})}),_>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.O,{className:"m-0 my-0 dark:bg-[#606B80]"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d.g,{size:"sm",initialPage:1,total:_||0,onChange:e=>{j(e)}})})]})]})}},90477:function(e,r,t){t.d(r,{r:function(){return l}});var s=t(52676),n=t(75271),i=t(12463),a=t(37481);let l=n.forwardRef((e,r)=>{let{className:t,thumbClassName:n,...l}=e;return(0,s.jsx)(i.fC,{className:(0,a.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:r,children:(0,s.jsx)(i.bU,{className:(0,a.cn)("pointer-events-none bg-white block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",n)})})});l.displayName=i.fC.displayName},12463:function(e,r,t){t.d(r,{bU:function(){return y},fC:function(){return _}});var s=t(75271),n=t(95061),i=t(62271),a=t(42478),l=t(30710),c=t(54066),o=t(93475),d=t(91714),u=t(52676),m="Switch",[x,p]=(0,a.b)(m),[h,f]=x(m),v=s.forwardRef((e,r)=>{let{__scopeSwitch:t,name:a,checked:c,defaultChecked:o,required:m,disabled:x,value:p="on",onCheckedChange:f,form:v,...b}=e,[g,_]=s.useState(null),y=(0,i.e)(r,e=>_(e)),N=s.useRef(!1),E=!g||v||!!g.closest("form"),[w=!1,C]=(0,l.T)({prop:c,defaultProp:o,onChange:f});return(0,u.jsxs)(h,{scope:t,checked:w,disabled:x,children:[(0,u.jsx)(d.WV.button,{type:"button",role:"switch","aria-checked":w,"aria-required":m,"data-state":k(w),"data-disabled":x?"":void 0,disabled:x,value:p,...b,ref:y,onClick:(0,n.M)(e.onClick,e=>{C(e=>!e),E&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),E&&(0,u.jsx)(j,{control:g,bubbles:!N.current,name:a,value:p,checked:w,required:m,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var b="SwitchThumb",g=s.forwardRef((e,r)=>{let{__scopeSwitch:t,...s}=e,n=f(b,t);return(0,u.jsx)(d.WV.span,{"data-state":k(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:r})});g.displayName=b;var j=e=>{let{control:r,checked:t,bubbles:n=!0,...i}=e,a=s.useRef(null),l=(0,c.D)(t),d=(0,o.t)(r);return s.useEffect(()=>{let e=a.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==t&&r){let s=new Event("click",{bubbles:n});r.call(e,t),e.dispatchEvent(s)}},[l,t,n]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return e?"checked":"unchecked"}var _=v,y=g},54066:function(e,r,t){t.d(r,{D:function(){return n}});var s=t(75271);function n(e){let r=s.useRef({value:e,previous:e});return s.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}}}]);